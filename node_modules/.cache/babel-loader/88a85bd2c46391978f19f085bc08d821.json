{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from\"react\";import EmpNav from\"../components/EmpNav\";import Axios from\"axios\";import\"./css/work.css\";import{store}from\"../App.js\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Work(){var _useContext=useContext(store),empdetails=_useContext.empdetails,requestslist=_useContext.requestslist,setRequestslist=_useContext.setRequestslist;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderitems=_useState2[0],setOrderItems=_useState2[1];var navigate=useNavigate();var getorderdetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"https://ays-backend.vercel.app/getorders?eemail=\".concat(empdetails.email),{headers:{\"authorization\":\"bearer \".concat(localStorage.getItem(\"token\"))}});case 2:res=_context.sent;if(res.data.auth){setOrderItems(res.data.orders);setRequestslist([]);setRequestslist(res.data.orders);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getorderdetails(){return _ref.apply(this,arguments);};}();useEffect(function(){if(empdetails.length===0){navigate(\"/login_employee\");}getorderdetails();},[empdetails.length]);return/*#__PURE__*/_jsxs(\"div\",{className:\"gradient\",style:{backgroundSize:\"cover\"},children:[/*#__PURE__*/_jsx(EmpNav,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"80px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-header\",style:{display:\"flex\"},children:/*#__PURE__*/_jsxs(\"h1\",{style:{marginLeft:\"50px\"},children:[/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"20px\"},class:\"fas fa-cubes\"}),\"My requests\"]})}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"900px\",height:\"2px\"}}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},children:orderitems.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"orders-card\",children:orderitems.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"200px\"},src:item.iimg})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:item.iname}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ordered on \",item.ord_date]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:item.status===1?/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success\",children:\"Completed\"}):/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger\",children:\"Pending...\"})}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(Link,{to:\"/ays/requests/\".concat(key),children:[\" \",/*#__PURE__*/_jsxs(\"h6\",{children:[\"Full details\",/*#__PURE__*/_jsx(\"i\",{style:{fontSize:\"15px\",marginRight:\"30px\",marginLeft:\"3px\"},class:\"fa-solid fa-chevron-right\"}),\" \"]})]})})]})]});})}):/*#__PURE__*/_jsxs(\"h1\",{style:{marginTop:\"100px\"},children:[\"No Orders Placed \",/*#__PURE__*/_jsx(\"i\",{className:\"far fa-meh-blank\"})]})})]});}export default Work;","map":{"version":3,"names":["React","useContext","useState","useEffect","EmpNav","Axios","store","useNavigate","Link","Work","empdetails","requestslist","setRequestslist","orderitems","setOrderItems","navigate","getorderdetails","get","email","headers","localStorage","getItem","res","data","auth","orders","length","backgroundSize","marginTop","display","marginLeft","marginRight","width","height","flexDirection","justifyContent","map","item","key","iimg","iname","ord_date","status","fontSize"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/Work.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport EmpNav from \"../components/EmpNav\";\nimport Axios from \"axios\";\nimport \"./css/work.css\";\nimport { store } from \"../App.js\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nfunction Work() {\n  const {empdetails,requestslist,setRequestslist} = useContext(store);\n  const [orderitems, setOrderItems] = useState([]);\n  const navigate = useNavigate();\n  const getorderdetails = async () => {\n    const res = await Axios.get(`https://ays-backend.vercel.app/getorders?eemail=${empdetails.email}`,{headers:{\"authorization\":`bearer ${localStorage.getItem(\"token\")}`}});\n    if(res.data.auth){\n      setOrderItems(res.data.orders);\n      setRequestslist([]);\n      setRequestslist(res.data.orders);\n    }\n   };\n\n  useEffect(() => {\n    if (empdetails.length === 0) {\n      navigate(\"/login_employee\");\n    }\n    getorderdetails();\n  }, [empdetails.length]);\n\n  return (\n    <div className=\"gradient\" style={{ backgroundSize: \"cover\" }}>\n      <EmpNav/>\n      <div style={{ marginTop: \"80px\" }}></div>\n      <div className=\"cart-header\" style={{ display: \"flex\" }}>\n        <h1 style={{ marginLeft: \"50px\" }}>\n          <i style={{ marginRight: \"20px\" }} class=\"fas fa-cubes\"></i>\n          My requests\n        </h1>\n      </div>\n      <hr style={{ width: \"900px\", height: \"2px\" }}></hr>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n        }}\n      >\n        {orderitems.length > 0 ? (\n          <div className=\"orders-card\">\n            {orderitems.map((item, key) => {\n              return (\n                <div\n                  className=\"order-item\"\n                  style={{ display: \"flex\", flexDirection: \"row\" }}\n                >\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    <img style={{ width: \"200px\" }} src={item.iimg} />\n                  </div>\n\n                  <div>\n                    <h1>{item.iname}</h1>\n                    <p>Ordered on {item.ord_date}</p>\n                  </div>\n\n                  <div>\n                    <p>\n                      {item.status === 1 ? (\n                        <button class=\"btn btn-success\">Completed</button>\n                      ) : (\n                        <button class=\"btn btn-danger\">Pending...</button>\n                      )}\n                    </p>\n\n                    <p style={{ marginTop: \"100px\" }}>\n                      <Link to={`/ays/requests/${key}`}>\n                        {\" \"}\n                        <h6>\n                          Full details\n                          <i\n                            style={{\n                              fontSize: \"15px\",\n                              marginRight: \"30px\",\n                              marginLeft: \"3px\",\n                            }}\n                            class=\"fa-solid fa-chevron-right\"\n                          ></i>{\" \"}\n                        </h6>\n                      </Link>\n                    </p>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <h1 style={{ marginTop: \"100px\" }}>\n            No Orders Placed <i className=\"far fa-meh-blank\"></i>\n          </h1>\n        )}\n      </div>\n    </div>\n  );\n}\nexport default Work;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}