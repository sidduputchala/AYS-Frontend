{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siddu\\\\Desktop\\\\AYS\\\\AYS-MERN-Stack-Frontend-master\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Login.css\";\nimport MainImage from \"./Images/indeximage.jpg\";\nimport Builder from \"./Images/builder.png\";\nimport MainNav from \"../components/MainNav\";\nimport Axios from \"axios\";\nimport { store } from \"../App.js\";\nimport HomeNav from \"../components/HomeNav\";\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [pmsg, setPmsg] = useState(\"\");\n  const [imsg, setImsg] = useState(\"\");\n  const {\n    cartItems,\n    setCartItems,\n    userdetails,\n    setUserDetails,\n    orderslist,\n    setOrderslist\n  } = useContext(store);\n  const [passwordType, setPasswordType] = useState(\"password\");\n\n  const togglePassword = () => {\n    if (passwordType === \"password\") {\n      setPasswordType(\"text\");\n      return;\n    }\n\n    setPasswordType(\"password\");\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (email === \"\") {\n      e.preventDefault();\n      setMsg(\"Enter your email!\");\n    } else if (!email.includes(\"@\")) {\n      e.preventDefault();\n      setMsg(\"Enter a valid email!\");\n    } else if (password === \"\") {\n      e.preventDefault();\n      setPmsg(\"Enter your password!\");\n    } else {\n      Axios.get(`https://ays-backend.vercel.app/login?email=${email}&password=${password}`).then(res => {\n        if (res.data.auth === true) {\n          localStorage.setItem(\"token\", res.data.token);\n          setUserDetails(res.data.users[0]);\n          alert(\"Login successful!\");\n          navigate(\"/ays/home\");\n        } else {\n          toast.error('Invalid Username or Password!', {\n            position: toast.POSITION.BOTTOM_RIGHT\n          });\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MainNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        height: \"650px\"\n      },\n      src: \"./indeximage.jpg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form_l\",\n      onSubmit: e => {\n        submitHandler(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: pmsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__box\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label_l\",\n          for: \"username\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"names\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input_l\",\n          type: \"text\",\n          id: \"username\",\n          name: \"email\",\n          placeholder: \"Email\",\n          required: \"required\",\n          onChange: e => {\n            setMsg(\"\");\n            setImsg(\"\");\n            setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"red\"\n          },\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__box\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"names\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input_l\",\n          type: passwordType,\n          id: \"password\",\n          name: \"password\",\n          required: \"required\",\n          placeholder: \"Password\",\n          onChange: e => {\n            setPmsg(\"\");\n            setImsg(\"\");\n            setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input__box\",\n          style: {\n            \"margin-top\": \"3px\",\n            cursor: \"pointer\",\n            paddingLeft: \"10px\"\n          },\n          onClick: togglePassword,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            onChange: e => {\n              togglePassword();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"showpassword\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Show Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"red\"\n          },\n          children: pmsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__box\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button_l\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"forget\",\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 52\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"nR5Hn0ocpTKF72uAQ87dhZBpWzc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Link","useNavigate","MainImage","Builder","MainNav","Axios","store","HomeNav","toast","Login","navigate","email","setEmail","password","setPassword","msg","setMsg","pmsg","setPmsg","imsg","setImsg","cartItems","setCartItems","userdetails","setUserDetails","orderslist","setOrderslist","passwordType","setPasswordType","togglePassword","submitHandler","e","preventDefault","includes","get","then","res","data","auth","localStorage","setItem","token","users","alert","error","position","POSITION","BOTTOM_RIGHT","height","color","target","value","cursor","paddingLeft"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/Login.js"],"sourcesContent":["import React, { useState,useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Login.css\";\nimport MainImage from \"./Images/indeximage.jpg\";\nimport Builder from \"./Images/builder.png\";\nimport MainNav from \"../components/MainNav\";\nimport Axios from \"axios\";\nimport {store}from \"../App.js\" \nimport HomeNav from \"../components/HomeNav\";\nimport {toast} from 'react-toastify'  \n\nfunction Login() {\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [pmsg, setPmsg] = useState(\"\");\n  const [imsg, setImsg] = useState(\"\");\n  const {cartItems,setCartItems,userdetails,setUserDetails,orderslist,setOrderslist}=useContext(store);\n  const [passwordType, setPasswordType] = useState(\"password\");\n \n  const togglePassword = () => {\n    if (passwordType === \"password\") {\n      setPasswordType(\"text\");\n      return;\n    }\n    setPasswordType(\"password\");\n  };\n\n  const submitHandler = (e) => {\n   \n    e.preventDefault();\n    if (email === \"\") {\n      e.preventDefault();\n      setMsg(\"Enter your email!\");\n\n    } else if (!email.includes(\"@\")) {\n      e.preventDefault();\n      setMsg(\"Enter a valid email!\");\n  \n    } else if (password === \"\") {\n      e.preventDefault();\n      setPmsg(\"Enter your password!\");\n  \n    } \n    else {\n      Axios.get(\n        `https://ays-backend.vercel.app/login?email=${email}&password=${password}`\n      ).then((res) => {\n\n\n        if (res.data.auth === true) {\n  \n            localStorage.setItem(\"token\", res.data.token);\n       \n          setUserDetails(res.data.users[0])\n          alert(\"Login successful!\");\n          navigate(\"/ays/home\");\n        } else {\n \n          toast.error('Invalid Username or Password!', {position: toast.POSITION.BOTTOM_RIGHT})\n\n        }\n      });\n    }\n  };\n  return (\n    <>\n    <MainNav/>\n     <img style={{height:\"650px\"}} src=\"./indeximage.jpg\"/>\n\n        <form className=\"form_l\" onSubmit={(e)=>{\n          submitHandler(e)\n        }}>\n          <h3>Login Here</h3>\n          <p style={{ color: \"red\" }}>{pmsg}</p>\n          <div className=\"input__box\">\n            <label className=\"label_l\" for=\"username\"><p className=\"names\">Username</p></label>\n            <input className=\"input_l\"\n              type=\"text\"\n              id=\"username\"\n              name=\"email\"\n              placeholder=\"Email\"\n              required=\"required\"\n              onChange={(e) => {\n                setMsg(\"\")\n                setImsg(\"\")\n                setEmail(e.target.value);\n              }}\n            />\n              <p style={{ color: \"red\" }}>{msg}</p>\n          </div>\n          <div className=\"input__box\">\n            <label for=\"password\"><p className=\"names\">Password</p></label>\n            <input className=\"input_l\"\n              type={passwordType}\n              id=\"password\"\n              name=\"password\"\n              required=\"required\"\n              placeholder=\"Password\"\n              onChange={(e) => {\n                setPmsg(\"\")\n                setImsg(\"\")\n                setPassword(e.target.value);\n              }}\n            />\n            <div className=\"input__box\"  style={{\"margin-top\":\"3px\",cursor: \"pointer\",paddingLeft:\"10px\"}} onClick={togglePassword}>\n                <input type=\"checkbox\" onChange={(e)=>{\n                  togglePassword()\n                }}/>\n                <label for=\"showpassword\"><small>Show Password</small></label>\n            </div>\n             <p style={{ color: \"red\" }}>{pmsg}</p>\n          </div>\n    \n          <div className=\"input__box\">\n            <button type=\"submit\" className=\"button_l\">\n              Log in\n            </button>\n          </div>\n          <p class=\"forget\">Don't have an account? <Link to=\"/signup\">Sign up</Link> </p>\n        \n        </form>\n       \n</>\n  );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}