{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siddu\\\\Desktop\\\\AYS\\\\AYS-MERN-Stack-Frontend-master\\\\src\\\\pages\\\\CheckOTP.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useContext, useState, useEffect } from 'react';\nimport emailjs from '@emailjs/browser';\nimport { store } from \"../App.js\";\nimport MainNav from \"../components/MainNav\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Signup.css\";\nimport Axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CheckOTP() {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    otpdetails,\n    setOtpDetails\n  } = useContext(store);\n  const [otp, setOtp] = useState(0);\n  const form = useRef(); // const sendEmail = (e) => {\n  // e.preventDefault();\n\n  const [sentotp, setSentotp] = useState(\"\");\n  useEffect(() => {\n    setSentotp(Math.floor(Math.random() * 1000000));\n  }, []);\n  useEffect(() => {\n    if (sentotp != \"\" && otpdetails.email != undefined) {\n      emailjs.sendForm(process.env.REACT_APP_USER_EMAILJS_SERVICE, process.env.REACT_APP_USER_EMAILJS_TEMPLATE, form.current, process.env.REACT_APP_USER_EMAILJS_USERID).then(result => {}, error => {});\n    }\n  }, [sentotp]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (otp == sentotp) {\n      const {\n        firstName,\n        lastName,\n        email,\n        phone,\n        address,\n        city,\n        state,\n        pincode,\n        password\n      } = otpdetails;\n      Axios.post(`https://ays-backend.vercel.app/signup`, {\n        firstName,\n        lastName,\n        email,\n        phone,\n        address,\n        city,\n        state,\n        pincode,\n        password\n      }).then(res => {\n        if (res.data) {\n          alert(\"Registration successful!\");\n          navigate(\"/login\");\n        } else {\n          alert(\"Something went wrong\");\n        }\n      });\n    } else {\n      alert(\"OTP not verified\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        display: \"none\"\n      },\n      ref: form,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"user_name\",\n        value: otpdetails.firstName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"user_email\",\n        value: otpdetails.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"message\",\n        value: sentotp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(MainNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        height: \"650px\"\n      },\n      src: \"./indeximage.jpg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form_s\",\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: \"20px\"\n        },\n        children: \"Enter OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"50px\"\n        },\n        className: \"flex-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input_s\",\n            required: \"required\",\n            type: \"text\",\n            name: \"firstName\",\n            \"aria-describedby\": \"emailHelp\",\n            placeholder: \"******\",\n            onChange: e => {\n              setOtp(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: \"100px\",\n          height: \"30px\",\n          color: 'black',\n          fontWeight: \"20px\"\n        },\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CheckOTP, \"BDrpjnRR2Xf6JVBbU4ebQYgFXug=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CheckOTP;\nexport default CheckOTP;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckOTP\");","map":{"version":3,"names":["React","useRef","useContext","useState","useEffect","emailjs","store","MainNav","Link","useNavigate","Axios","toast","CheckOTP","navigate","otpdetails","setOtpDetails","otp","setOtp","form","sentotp","setSentotp","Math","floor","random","email","undefined","sendForm","process","env","REACT_APP_USER_EMAILJS_SERVICE","REACT_APP_USER_EMAILJS_TEMPLATE","current","REACT_APP_USER_EMAILJS_USERID","then","result","error","submitHandler","e","preventDefault","firstName","lastName","phone","address","city","state","pincode","password","post","res","data","alert","display","height","marginBottom","target","value","color","width","fontWeight"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/CheckOTP.js"],"sourcesContent":["import React, { useRef,useContext,useState, useEffect } from 'react';\nimport emailjs from '@emailjs/browser';\nimport {store}from \"../App.js\" \nimport MainNav from \"../components/MainNav\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Signup.css\";\nimport Axios from \"axios\";\nimport {toast} from \"react-toastify\"\n\nfunction CheckOTP() {\n    const navigate = useNavigate();\n    const {otpdetails,setOtpDetails}=useContext(store);\n\n    const [otp,setOtp]=useState(0);\n    const form = useRef();\n\n    // const sendEmail = (e) => {\n    // e.preventDefault();\n    const [sentotp,setSentotp] = useState(\"\");\n\nuseEffect(() => {\n    setSentotp(Math.floor(Math.random() * 1000000));\n}, [])\n\n\nuseEffect(() => {\n    if(sentotp!=\"\" && otpdetails.email!=undefined){\n    emailjs.sendForm(process.env.REACT_APP_USER_EMAILJS_SERVICE, process.env.REACT_APP_USER_EMAILJS_TEMPLATE, form.current, process.env.REACT_APP_USER_EMAILJS_USERID)\n      .then((result) => {          \n      }, (error) => {\n      });\n    }\n}, [sentotp])\n\n  const submitHandler = (e)=>{\n    e.preventDefault();\n    if(otp==sentotp){\n\n          const { firstName, lastName, email, phone, address, city, state, pincode, password } = otpdetails;\n          Axios.post(`https://ays-backend.vercel.app/signup`, {\n            firstName,\n            lastName,\n            email,\n            phone,\n            address,\n            city,\n            state,\n            pincode,\n            password,\n          }).then((res) => {\n  \n            if (res.data) {\n              alert(\"Registration successful!\");\n              navigate(\"/login\");\n            } else {\n              alert(\"Something went wrong\");\n            }\n          });\n    }\n    else{\n        alert(\"OTP not verified\");\n    }\n  }\n\n  return (\n    <div>\n\n    <form style={{display:\"none\"}} ref={form}>\n      <label>Name</label>\n      <input type=\"text\" name=\"user_name\" value={otpdetails.firstName} />\n      <label>Email</label>\n      <input type=\"email\" name=\"user_email\" value={otpdetails.email} />\n      <label>Message</label>\n      <textarea name=\"message\" value={sentotp} />\n      \n    </form>\n\n\n    <MainNav />\n    <img style={{ height: \"650px\" }} src=\"./indeximage.jpg\" />\n   \n     \n      <form className=\"form_s\"  onSubmit={submitHandler}>\n\n      \n        <h3 style={{marginBottom:\"20px\"}}>Enter OTP</h3>\n\n        <div style={{marginBottom:\"50px\"}}className=\"flex-container\">\n          <div >\n            <input\n              className=\"input_s\"\n              required=\"required\"\n              type=\"text\"\n              name=\"firstName\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"******\"\n              onChange={(e) => {\n                setOtp(e.target.value);\n                \n              }}\n            />\n            <p style={{ color: \"red\" }}>{}</p>\n          </div>\n        </div>\n\n      \n        <button type=\"submit\" style={{width:\"100px\",height:\"30px\",color:'black',fontWeight:\"20px\"}}>\n          Submit\n        </button>\n      </form>\n      \n    </div>\n  )\n}\n\nexport default CheckOTP\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAuBC,UAAvB,EAAkCC,QAAlC,EAA4CC,SAA5C,QAA6D,OAA7D;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAAQC,KAAR,QAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,OAAO,kBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,gBAApB;;;AAEA,SAASC,QAAT,GAAoB;EAAA;;EAChB,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAM;IAACK,UAAD;IAAYC;EAAZ,IAA2Bb,UAAU,CAACI,KAAD,CAA3C;EAEA,MAAM,CAACU,GAAD,EAAKC,MAAL,IAAad,QAAQ,CAAC,CAAD,CAA3B;EACA,MAAMe,IAAI,GAAGjB,MAAM,EAAnB,CALgB,CAOhB;EACA;;EACA,MAAM,CAACkB,OAAD,EAASC,UAAT,IAAuBjB,QAAQ,CAAC,EAAD,CAArC;EAEJC,SAAS,CAAC,MAAM;IACZgB,UAAU,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,OAA3B,CAAD,CAAV;EACH,CAFQ,EAEN,EAFM,CAAT;EAKAnB,SAAS,CAAC,MAAM;IACZ,IAAGe,OAAO,IAAE,EAAT,IAAeL,UAAU,CAACU,KAAX,IAAkBC,SAApC,EAA8C;MAC9CpB,OAAO,CAACqB,QAAR,CAAiBC,OAAO,CAACC,GAAR,CAAYC,8BAA7B,EAA6DF,OAAO,CAACC,GAAR,CAAYE,+BAAzE,EAA0GZ,IAAI,CAACa,OAA/G,EAAwHJ,OAAO,CAACC,GAAR,CAAYI,6BAApI,EACGC,IADH,CACSC,MAAD,IAAY,CACjB,CAFH,EAEMC,KAAD,IAAW,CACb,CAHH;IAIC;EACJ,CAPQ,EAON,CAAChB,OAAD,CAPM,CAAT;;EASE,MAAMiB,aAAa,GAAIC,CAAD,IAAK;IACzBA,CAAC,CAACC,cAAF;;IACA,IAAGtB,GAAG,IAAEG,OAAR,EAAgB;MAEV,MAAM;QAAEoB,SAAF;QAAaC,QAAb;QAAuBhB,KAAvB;QAA8BiB,KAA9B;QAAqCC,OAArC;QAA8CC,IAA9C;QAAoDC,KAApD;QAA2DC,OAA3D;QAAoEC;MAApE,IAAiFhC,UAAvF;MACAJ,KAAK,CAACqC,IAAN,CAAY,uCAAZ,EAAoD;QAClDR,SADkD;QAElDC,QAFkD;QAGlDhB,KAHkD;QAIlDiB,KAJkD;QAKlDC,OALkD;QAMlDC,IANkD;QAOlDC,KAPkD;QAQlDC,OARkD;QASlDC;MATkD,CAApD,EAUGb,IAVH,CAUSe,GAAD,IAAS;QAEf,IAAIA,GAAG,CAACC,IAAR,EAAc;UACZC,KAAK,CAAC,0BAAD,CAAL;UACArC,QAAQ,CAAC,QAAD,CAAR;QACD,CAHD,MAGO;UACLqC,KAAK,CAAC,sBAAD,CAAL;QACD;MACF,CAlBD;IAmBL,CAtBD,MAuBI;MACAA,KAAK,CAAC,kBAAD,CAAL;IACH;EACF,CA5BD;;EA8BA,oBACE;IAAA,wBAEA;MAAM,KAAK,EAAE;QAACC,OAAO,EAAC;MAAT,CAAb;MAA+B,GAAG,EAAEjC,IAApC;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAO,IAAI,EAAC,MAAZ;QAAmB,IAAI,EAAC,WAAxB;QAAoC,KAAK,EAAEJ,UAAU,CAACyB;MAAtD;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE;QAAO,IAAI,EAAC,OAAZ;QAAoB,IAAI,EAAC,YAAzB;QAAsC,KAAK,EAAEzB,UAAU,CAACU;MAAxD;QAAA;QAAA;QAAA;MAAA,QAJF,eAKE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALF,eAME;QAAU,IAAI,EAAC,SAAf;QAAyB,KAAK,EAAEL;MAAhC;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFA,eAaA,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAbA,eAcA;MAAK,KAAK,EAAE;QAAEiC,MAAM,EAAE;MAAV,CAAZ;MAAiC,GAAG,EAAC;IAArC;MAAA;MAAA;MAAA;IAAA,QAdA,eAiBE;MAAM,SAAS,EAAC,QAAhB;MAA0B,QAAQ,EAAEhB,aAApC;MAAA,wBAGE;QAAI,KAAK,EAAE;UAACiB,YAAY,EAAC;QAAd,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,eAKE;QAAK,KAAK,EAAE;UAACA,YAAY,EAAC;QAAd,CAAZ;QAAkC,SAAS,EAAC,gBAA5C;QAAA,uBACE;UAAA,wBACE;YACE,SAAS,EAAC,SADZ;YAEE,QAAQ,EAAC,UAFX;YAGE,IAAI,EAAC,MAHP;YAIE,IAAI,EAAC,WAJP;YAKE,oBAAiB,WALnB;YAME,WAAW,EAAC,QANd;YAOE,QAAQ,EAAGhB,CAAD,IAAO;cACfpB,MAAM,CAACoB,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAN;YAED;UAVH;YAAA;YAAA;YAAA;UAAA,QADF,eAaE;YAAG,KAAK,EAAE;cAAEC,KAAK,EAAE;YAAT;UAAV;YAAA;YAAA;YAAA;UAAA,QAbF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QALF,eAwBE;QAAQ,IAAI,EAAC,QAAb;QAAsB,KAAK,EAAE;UAACC,KAAK,EAAC,OAAP;UAAeL,MAAM,EAAC,MAAtB;UAA6BI,KAAK,EAAC,OAAnC;UAA2CE,UAAU,EAAC;QAAtD,CAA7B;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAxBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAjBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiDD;;GAxGQ9C,Q;UACYH,W;;;KADZG,Q;AA0GT,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}