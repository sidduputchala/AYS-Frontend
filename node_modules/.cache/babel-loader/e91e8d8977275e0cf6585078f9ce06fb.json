{"ast":null,"code":"import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"./css/Login.css\";import MainImage from\"./Images/indeximage.jpg\";import Builder from\"./Images/builder.png\";import MainNav from\"../components/MainNav\";import Axios from\"axios\";import{store}from\"../App.js\";import HomeNav from\"../components/HomeNav\";import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setMsg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),pmsg=_useState8[0],setPmsg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),imsg=_useState10[0],setImsg=_useState10[1];var _useContext=useContext(store),cartItems=_useContext.cartItems,setCartItems=_useContext.setCartItems,userdetails=_useContext.userdetails,setUserDetails=_useContext.setUserDetails,orderslist=_useContext.orderslist,setOrderslist=_useContext.setOrderslist;var _useState11=useState(\"password\"),_useState12=_slicedToArray(_useState11,2),passwordType=_useState12[0],setPasswordType=_useState12[1];var togglePassword=function togglePassword(){if(passwordType===\"password\"){setPasswordType(\"text\");return;}setPasswordType(\"password\");};var submitHandler=function submitHandler(e){e.preventDefault();if(email===\"\"){e.preventDefault();setMsg(\"Enter your email!\");}else if(!email.includes(\"@\")){e.preventDefault();setMsg(\"Enter a valid email!\");}else if(password===\"\"){e.preventDefault();setPmsg(\"Enter your password!\");}else{Axios.get(\"https://ays-backend.vercel.app/login?email=\".concat(email,\"&password=\").concat(password)).then(function(res){if(res.data.auth===true){localStorage.setItem(\"token\",res.data.token);setUserDetails(res.data.users[0]);alert(\"Login successful!\");navigate(\"/ays/home\");}else{toast.error('Invalid Username or Password!',{position:toast.POSITION.BOTTOM_RIGHT});}});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainNav,{}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"650px\"},src:\"./indeximage.jpg\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form_l\",onSubmit:function onSubmit(e){submitHandler(e);},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login Here\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:pmsg}),/*#__PURE__*/_jsxs(\"div\",{className:\"input__box\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label_l\",for:\"username\",children:/*#__PURE__*/_jsx(\"p\",{className:\"names\",children:\"Username\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"input_l\",type:\"text\",id:\"username\",name:\"email\",placeholder:\"Email\",required:\"required\",onChange:function onChange(e){setMsg(\"\");setImsg(\"\");setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:msg})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input__box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:/*#__PURE__*/_jsx(\"p\",{className:\"names\",children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"input_l\",type:passwordType,id:\"password\",name:\"password\",required:\"required\",placeholder:\"Password\",onChange:function onChange(e){setPmsg(\"\");setImsg(\"\");setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"input__box\",style:{\"margin-top\":\"3px\",cursor:\"pointer\",paddingLeft:\"10px\"},onClick:togglePassword,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){togglePassword();}}),/*#__PURE__*/_jsx(\"label\",{for:\"showpassword\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Show Password\"})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:pmsg})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input__box\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button_l\",children:\"Log in\"})}),/*#__PURE__*/_jsxs(\"p\",{class:\"forget\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"}),\" \"]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","useEffect","Link","useNavigate","MainImage","Builder","MainNav","Axios","store","HomeNav","toast","Login","navigate","email","setEmail","password","setPassword","msg","setMsg","pmsg","setPmsg","imsg","setImsg","cartItems","setCartItems","userdetails","setUserDetails","orderslist","setOrderslist","passwordType","setPasswordType","togglePassword","submitHandler","e","preventDefault","includes","get","then","res","data","auth","localStorage","setItem","token","users","alert","error","position","POSITION","BOTTOM_RIGHT","height","color","target","value","cursor","paddingLeft"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/Login.js"],"sourcesContent":["import React, { useState,useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Login.css\";\nimport MainImage from \"./Images/indeximage.jpg\";\nimport Builder from \"./Images/builder.png\";\nimport MainNav from \"../components/MainNav\";\nimport Axios from \"axios\";\nimport {store}from \"../App.js\" \nimport HomeNav from \"../components/HomeNav\";\nimport {toast} from 'react-toastify'  \n\nfunction Login() {\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [pmsg, setPmsg] = useState(\"\");\n  const [imsg, setImsg] = useState(\"\");\n  const {cartItems,setCartItems,userdetails,setUserDetails,orderslist,setOrderslist}=useContext(store);\n  const [passwordType, setPasswordType] = useState(\"password\");\n \n  const togglePassword = () => {\n    if (passwordType === \"password\") {\n      setPasswordType(\"text\");\n      return;\n    }\n    setPasswordType(\"password\");\n  };\n\n  const submitHandler = (e) => {\n   \n    e.preventDefault();\n    if (email === \"\") {\n      e.preventDefault();\n      setMsg(\"Enter your email!\");\n\n    } else if (!email.includes(\"@\")) {\n      e.preventDefault();\n      setMsg(\"Enter a valid email!\");\n  \n    } else if (password === \"\") {\n      e.preventDefault();\n      setPmsg(\"Enter your password!\");\n  \n    } \n    else {\n      Axios.get(\n        `https://ays-backend.vercel.app/login?email=${email}&password=${password}`\n      ).then((res) => {\n\n\n        if (res.data.auth === true) {\n  \n            localStorage.setItem(\"token\", res.data.token);\n       \n          setUserDetails(res.data.users[0])\n          alert(\"Login successful!\");\n          navigate(\"/ays/home\");\n        } else {\n \n          toast.error('Invalid Username or Password!', {position: toast.POSITION.BOTTOM_RIGHT})\n\n        }\n      });\n    }\n  };\n  return (\n    <>\n    <MainNav/>\n     <img style={{height:\"650px\"}} src=\"./indeximage.jpg\"/>\n\n        <form className=\"form_l\" onSubmit={(e)=>{\n          submitHandler(e)\n        }}>\n          <h3>Login Here</h3>\n          <p style={{ color: \"red\" }}>{pmsg}</p>\n          <div className=\"input__box\">\n            <label className=\"label_l\" for=\"username\"><p className=\"names\">Username</p></label>\n            <input className=\"input_l\"\n              type=\"text\"\n              id=\"username\"\n              name=\"email\"\n              placeholder=\"Email\"\n              required=\"required\"\n              onChange={(e) => {\n                setMsg(\"\")\n                setImsg(\"\")\n                setEmail(e.target.value);\n              }}\n            />\n              <p style={{ color: \"red\" }}>{msg}</p>\n          </div>\n          <div className=\"input__box\">\n            <label for=\"password\"><p className=\"names\">Password</p></label>\n            <input className=\"input_l\"\n              type={passwordType}\n              id=\"password\"\n              name=\"password\"\n              required=\"required\"\n              placeholder=\"Password\"\n              onChange={(e) => {\n                setPmsg(\"\")\n                setImsg(\"\")\n                setPassword(e.target.value);\n              }}\n            />\n            <div className=\"input__box\"  style={{\"margin-top\":\"3px\",cursor: \"pointer\",paddingLeft:\"10px\"}} onClick={togglePassword}>\n                <input type=\"checkbox\" onChange={(e)=>{\n                  togglePassword()\n                }}/>\n                <label for=\"showpassword\"><small>Show Password</small></label>\n            </div>\n             <p style={{ color: \"red\" }}>{pmsg}</p>\n          </div>\n    \n          <div className=\"input__box\">\n            <button type=\"submit\" className=\"button_l\">\n              Log in\n            </button>\n          </div>\n          <p class=\"forget\">Don't have an account? <Link to=\"/signup\">Sign up</Link> </p>\n        \n        </form>\n       \n</>\n  );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}