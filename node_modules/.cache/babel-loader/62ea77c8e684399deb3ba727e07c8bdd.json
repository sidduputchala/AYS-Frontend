{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import HomeNav from\"../components/HomeNav.js\";import{store}from\"../App.js\";import\"./css/Orders.css\";import{Link,useNavigate}from\"react-router-dom\";import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Orders(){var _useContext=useContext(store),userdetails=_useContext.userdetails,setOrderslist=_useContext.setOrderslist;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderitems=_useState2[0],setorderitems=_useState2[1];var navigate=useNavigate();var getorderdetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Axios.get(\"https://ays-backend.vercel.app/ordersbyuser?uemail=\".concat(userdetails.email),{headers:{\"authorization\":\"bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(res){if(res.data.auth==true){setorderitems(res.data.orders);}else{}});setOrderslist([]);orderitems.map(function(item){setOrderslist(function(prevlist){return[].concat(_toConsumableArray(prevlist),[item]);});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getorderdetails(){return _ref.apply(this,arguments);};}();useEffect(function(){if(userdetails.length===0){navigate(\"/ays/login\");}getorderdetails();},[userdetails,orderitems.length]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HomeNav,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"80px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-header\",style:{display:\"flex\"},children:/*#__PURE__*/_jsxs(\"h1\",{style:{\"margin-top\":\"60px\",marginLeft:\"50px\"},children:[/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"20px\"},class:\"fas fa-cubes\"}),\"Orders\"]})}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"900px\",height:\"2px\"}}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},children:orderitems.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"orders-card\",children:orderitems.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",style:{display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"200px\"},src:item.iimg})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:item.iname}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ordered on \",item.ord_date]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:item.status===1?/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success\",children:\"Completed\"}):item.eemail==\"\"?/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger\",children:\"Cancelled\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn\",style:{backgroundColor:\"orange\",color:\"white\"},children:\"Pending...\"})})}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(Link,{to:\"/ays/orders/\".concat(key),children:[\" \",/*#__PURE__*/_jsxs(\"h6\",{children:[\"order details\",/*#__PURE__*/_jsx(\"i\",{style:{fontSize:\"15px\",marginRight:\"30px\",marginLeft:\"3px\"},class:\"fa-solid fa-chevron-right\"}),\" \"]})]})})]})]});})}):/*#__PURE__*/_jsxs(\"h1\",{style:{marginTop:\"100px\"},children:[\"No Orders Placed \",/*#__PURE__*/_jsx(\"i\",{className:\"far fa-meh-blank\"})]})})]});}export default Orders;","map":{"version":3,"names":["React","useState","useContext","useEffect","HomeNav","store","Link","useNavigate","Axios","Orders","userdetails","setOrderslist","orderitems","setorderitems","navigate","getorderdetails","get","email","headers","localStorage","getItem","then","res","data","auth","orders","map","item","prevlist","length","marginTop","display","marginLeft","marginRight","width","height","flexDirection","justifyContent","key","iimg","iname","ord_date","status","eemail","backgroundColor","color","fontSize"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport HomeNav from \"../components/HomeNav.js\";\nimport { store } from \"../App.js\";\nimport \"./css/Orders.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Axios from \"axios\";\n\nfunction Orders() {\n  const {\n    userdetails,\n    setOrderslist,\n}= useContext(store);\n  const [orderitems, setorderitems] = useState([]);\n  const navigate = useNavigate();\n  const getorderdetails = async () => {\n    Axios.get(`https://ays-backend.vercel.app/ordersbyuser?uemail=${userdetails.email}`,{headers:{\"authorization\":`bearer ${localStorage.getItem(\"token\")}`}}).then((res)=>{\n        if(res.data.auth==true){\n          setorderitems(res.data.orders);\n        }\n        else{\n      \n        }\n    })\n    setOrderslist([]);\n    orderitems.map((item) => {\n      setOrderslist((prevlist) => {\n        return [...prevlist, item];\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (userdetails.length === 0) {\n      navigate(\"/ays/login\");\n    }\n\n    getorderdetails();\n  }, [userdetails,orderitems.length]);\n\n  return (\n    <div>\n      <HomeNav />\n      <div style={{ marginTop: \"80px\" }}></div>\n      <div className=\"cart-header\" style={{ display: \"flex\" }}>\n        <h1 style={{ \"margin-top\": \"60px\", marginLeft: \"50px\" }}>\n          <i style={{ marginRight: \"20px\" }} class=\"fas fa-cubes\"></i>\n          Orders\n        </h1>\n      </div>\n      <hr style={{ width: \"900px\", height: \"2px\" }}></hr>\n\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n        }}\n      >\n        {orderitems.length > 0 ? (\n          <div className=\"orders-card\">\n            {orderitems.map((item, key) => {\n              return (\n                <div\n                  className=\"order-item\"\n                  style={{ display: \"flex\", flexDirection: \"row\" }}\n                >\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    <img style={{ width: \"200px\" }} src={item.iimg} />\n                  </div>\n                  <div>\n                    <h1>{item.iname}</h1>\n                    <p>Ordered on {item.ord_date}</p>\n                  </div>\n                  <div>\n                    <p>\n                      {item.status === 1 ? (\n                        <button class=\"btn btn-success\">Completed</button>\n                      ) : (\n                          item.eemail == \"\" ?(\n<button class=\"btn btn-danger\">Cancelled</button>\n ):(<>                         \n  <button class=\"btn\" style={{backgroundColor:\"orange\",color:\"white\"}}>Pending...</button>\n                          </>)\n                      \n                      )}\n                    </p>\n                  <p style={{ marginTop: \"100px\" }}>\n                    <Link to={`/ays/orders/${key}`}>\n                      {\" \"}\n                      <h6>\n                        order details\n                        <i\n                          style={{\n                            fontSize: \"15px\",\n                            marginRight: \"30px\",\n                            marginLeft: \"3px\",\n                          }}\n                          class=\"fa-solid fa-chevron-right\"\n                        ></i>{\" \"}\n                      </h6>\n                    </Link>\n                  </p>\n\n                </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <h1 style={{ marginTop: \"100px\" }}>\n            No Orders Placed <i className=\"far fa-meh-blank\"></i>\n          </h1>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Orders;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}