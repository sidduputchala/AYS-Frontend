{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import EmpNav from\"../components/EmpNav.js\";import{useParams,useNavigate}from\"react-router-dom\";import Axios from\"axios\";import{store}from\"../App.js\";import\"./css/OrdersDetails.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RequestDetails(){var navigate=useNavigate();var _useContext=useContext(store),requestslist=_useContext.requestslist,empdetails=_useContext.empdetails;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setamount=_useState2[1];var _useParams=useParams(),requestid=_useParams.requestid;useEffect(function(){},[amount]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EmpNav,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-header\",style:{display:\"flex\"},children:/*#__PURE__*/_jsxs(\"h1\",{style:{\"margin-top\":\"60px\",marginLeft:\"50px\"},children:[/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"20px\"},class:\"fas fa-edit\"}),\"Request Details\"]})}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"900px\",height:\"2px\"}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"40px\"},children:requestslist.length===0?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-evenly\"},children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",\"justify-content\":\"center\",alignItems:\"flex-start\"},children:/*#__PURE__*/_jsx(\"h2\",{children:\" No requests at present\"})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",requestslist.map(function(item,key){if(key==requestid){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-evenly\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",\"justify-content\":\"center\",alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"u\",{children:\"Requested service:\"})}),/*#__PURE__*/_jsx(\"h5\",{children:item.iname}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsx(\"u\",{children:\"Customer details:\"})}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Email: \",item.ord_email]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Phone: \",item.ord_phone]}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsx(\"u\",{children:\"Address:\"})}),/*#__PURE__*/_jsxs(\"h5\",{children:[item.ord_address1,\",\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[item.ord_address2,\",\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[item.ord_state,\",\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[item.ord_pincode,\".\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"space-evenly\"},children:/*#__PURE__*/_jsx(\"div\",{style:{marginRight:\"20px\"}})}),item.status===0?/*#__PURE__*/ // <form onSubmit={submithandler}>\n_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Amount:\",/*#__PURE__*/_jsx(\"input\",{style:{fontSize:\"20px\"},type:\"number\",placeholder:\"cost of the service\",onChange:function onChange(e){setamount(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Work Completed\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-success\",type:\"submit\",onClick:/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,res1;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return Axios.post(\"https://ays-backend.vercel.app/updateorder\",{orderid:item._id,cost:amount,status:1},{headers:{\"authorization\":\"bearer \".concat(localStorage.getItem(\"token\"))}});case 3:res=_context.sent;_context.next=6;return Axios.post(\"https://ays-backend.vercel.app/updateemployeebyemail\",{email:item.eemail,free:1},{headers:{\"authorization\":\"bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(){navigate(\"/Employee_home\");});case 6:res1=_context.sent;case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),children:\"Post\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{marginTop:\"30px\"},children:[\"Cost(\\u20B9) : \",item.cost]}),/*#__PURE__*/_jsx(\"h5\",{style:{color:\"Darkgreen\"},children:\"Satus: Completed\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orders-details\",style:{display:'flex',flexDirection:\"center\",justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(\"img\",{className:\"orders-details\",style:{width:\"300px\",height:\"200px\",marginBottom:\"10px\",display:'flex',flexDirection:\"right\",justifyContent:'right',alignItems:'right'},src:item.iimg})})]});}}),\" \"]})})]});}export default RequestDetails;","map":{"version":3,"names":["React","useState","useContext","useEffect","EmpNav","useParams","useNavigate","Axios","store","RequestDetails","navigate","requestslist","empdetails","amount","setamount","requestid","marginTop","display","marginLeft","marginRight","width","height","length","flexDirection","justifyContent","alignItems","map","item","key","iname","ord_email","ord_phone","ord_address1","ord_address2","ord_state","ord_pincode","status","fontSize","e","target","value","preventDefault","post","orderid","_id","cost","headers","localStorage","getItem","res","email","eemail","free","then","res1","color","marginBottom","iimg"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/RequestDetails.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport EmpNav from \"../components/EmpNav.js\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport { store } from \"../App.js\";\nimport \"./css/OrdersDetails.css\";\nfunction RequestDetails() {\n  const navigate = useNavigate();\n  const { requestslist, empdetails } = useContext(store);\n  const [amount, setamount] = useState(\"\");\n  let { requestid } = useParams();\n\n  useEffect(() => {}, [amount]);\n\n  return (\n    <div>\n      <EmpNav />\n   \n      <div style={{marginTop: '10px'}}></div>\n       <div className=\"cart-header\" style={{ display: \"flex\" }}>\n        <h1 style={{ \"margin-top\": \"60px\", marginLeft: \"50px\" }}>\n          <i\n            style={{ marginRight: \"20px\" }}\n            class=\"fas fa-edit\"\n            ></i>\n          Request Details\n                  </h1>\n      </div>\n\n      <hr style={{ width: \"900px\", height: \"2px\" }}></hr>\n     \n      <div style={{marginTop:\"40px\"}}>\n      \n      {requestslist.length === 0 ? (\n        <div style={{display: \"flex\",flexDirection: \"row\",justifyContent: \"space-evenly\"}}>\n        <div style={{display: \"flex\", flexDirection: \"column\",\"justify-content\":\"center\",alignItems: \"flex-start\"}}>   \n         <h2> No requests at present</h2>         \n       </div>\n       </div>\n \n ) : (\n   <>\n          {\" \"}\n          {requestslist.map((item, key) => {\n            if (key == requestid) {\n              return (\n                   <div style={{display: \"flex\",flexDirection: \"row\",justifyContent: \"space-evenly\"}}>\n         <div style={{display: \"flex\", flexDirection: \"column\",\"justify-content\":\"center\",alignItems: \"flex-start\"}}>\n       \n                  <h3><u>Requested service:</u></h3>\n                  <h5>{item.iname}</h5>\n                 \n                  <h3 style={{marginTop:\"20px\"}}><u>Customer details:</u></h3>\n                  <h5>Email: {item.ord_email}</h5>\n                  <h5>Phone: {item.ord_phone}</h5>                        \n                  <h3 style={{marginTop:\"20px\"}}><u>Address:</u></h3>\n                  <h5>{item.ord_address1},</h5>                        \n                  <h5>{item.ord_address2},</h5>                                               \n                 <h5>{item.ord_state},</h5>\n                <h5>{item.ord_pincode}.</h5> \n\n                <div style={{display:\"flex\",justifyContent:\"space-evenly\"}}>\n          <div style={{marginRight:\"20px\"}}>\n         </div>\n       </div>\n {item.status === 0 ? (\n                    // <form onSubmit={submithandler}>\n                    <form>\n                      <h4>Amount:<input style={{fontSize:\"20px\" }} type=\"number\" placeholder=\"cost of the service\"\n                           onChange={(e) => {setamount(e.target.value);}}/>\n                      </h4>\n                      <br />\n                 <input type=\"radio\" /><h4>\n                        Work Completed\n                        </h4>\n                  \n                      <button  class=\"btn btn-outline-success\"type=\"submit\" onClick={async (e) => {e.preventDefault();\n                      \n                      const res = await Axios.post(`https://ays-backend.vercel.app/updateorder`,{orderid :item._id,cost: amount, status: 1},{headers:{\"authorization\":`bearer ${localStorage.getItem(\"token\")}`}});\n                     const res1 = await Axios.post(`https://ays-backend.vercel.app/updateemployeebyemail`,{email:item.eemail,free:1},{headers:{\"authorization\":`bearer ${localStorage.getItem(\"token\")}`}})\n                          .then(() =>{navigate(\"/Employee_home\");});}} >\n                        Post\n                      </button>\n                    </form>\n                  ) : (<>\n                      <h2 style={{marginTop:\"30px\"}}>Cost(â‚¹) : {item.cost}</h2>\n                      <h5 style={{color:\"Darkgreen\"}}>Satus: Completed</h5>\n                  </>\n               \n                  )}\n                </div>\n                   <div className=\"orders-details\" style={{display: 'flex',flexDirection:\"center\",justifyContent: 'center',alignItems: 'center'}}>\n       <img className=\"orders-details\" style={{width:\"300px\",height:\"200px\",marginBottom:\"10px\",display: 'flex',flexDirection:\"right\",justifyContent: 'right',alignItems: 'right'}} src={item.iimg}/>\n            </div> \n                  </div>\n              );\n            }\n          })}{\" \"}\n        </>\n      )}</div>\n    </div>\n  );\n}\nexport default RequestDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}