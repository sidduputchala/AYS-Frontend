{"ast":null,"code":"import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useContext,useState,useEffect}from'react';import emailjs from'@emailjs/browser';import{store}from\"../App.js\";import MainNav from\"../components/MainNav\";import{Link,useNavigate}from\"react-router-dom\";import\"./css/Signup.css\";import Axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CheckOTP(){var navigate=useNavigate();var _useContext=useContext(store),otpdetails=_useContext.otpdetails,setOtpDetails=_useContext.setOtpDetails;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var form=useRef();// const sendEmail = (e) => {\n// e.preventDefault();\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),sentotp=_useState4[0],setSentotp=_useState4[1];useEffect(function(){setSentotp(Math.floor(Math.random()*1000000));},[]);useEffect(function(){if(sentotp!=\"\"&&otpdetails.email!=undefined){emailjs.sendForm(process.env.REACT_APP_USER_EMAILJS_SERVICE,process.env.REACT_APP_USER_EMAILJS_TEMPLATE,form.current,process.env.REACT_APP_USER_EMAILJS_USERID).then(function(result){},function(error){});}},[sentotp]);var submitHandler=function submitHandler(e){e.preventDefault();if(otp==sentotp){var firstName=otpdetails.firstName,lastName=otpdetails.lastName,email=otpdetails.email,phone=otpdetails.phone,address=otpdetails.address,city=otpdetails.city,state=otpdetails.state,pincode=otpdetails.pincode,password=otpdetails.password;Axios.post(\"https://ays-backend.vercel.app/signup\",{firstName:firstName,lastName:lastName,email:email,phone:phone,address:address,city:city,state:state,pincode:pincode,password:password}).then(function(res){if(res.data){alert(\"Registration successful!\");navigate(\"/login\");}else{alert(\"Something went wrong\");}});}else{alert(\"OTP not verified\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{style:{display:\"none\"},ref:form,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user_name\",value:otpdetails.firstName}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"user_email\",value:otpdetails.email}),/*#__PURE__*/_jsx(\"label\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",value:sentotp})]}),/*#__PURE__*/_jsx(MainNav,{}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"650px\"},src:\"./indeximage.jpg\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form_s\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:\"20px\"},children:\"Enter OTP\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"50px\"},className:\"flex-container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"input_s\",required:\"required\",type:\"text\",name:\"firstName\",\"aria-describedby\":\"emailHelp\",placeholder:\"******\",onChange:function onChange(e){setOtp(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"}})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"100px\",height:\"30px\",color:'black',fontWeight:\"20px\"},children:\"Submit\"})]})]});}export default CheckOTP;","map":{"version":3,"names":["React","useRef","useContext","useState","useEffect","emailjs","store","MainNav","Link","useNavigate","Axios","toast","CheckOTP","navigate","otpdetails","setOtpDetails","otp","setOtp","form","sentotp","setSentotp","Math","floor","random","email","undefined","sendForm","process","env","REACT_APP_USER_EMAILJS_SERVICE","REACT_APP_USER_EMAILJS_TEMPLATE","current","REACT_APP_USER_EMAILJS_USERID","then","result","error","submitHandler","e","preventDefault","firstName","lastName","phone","address","city","state","pincode","password","post","res","data","alert","display","height","marginBottom","target","value","color","width","fontWeight"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/CheckOTP.js"],"sourcesContent":["import React, { useRef,useContext,useState, useEffect } from 'react';\nimport emailjs from '@emailjs/browser';\nimport {store}from \"../App.js\" \nimport MainNav from \"../components/MainNav\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Signup.css\";\nimport Axios from \"axios\";\nimport {toast} from \"react-toastify\"\n\nfunction CheckOTP() {\n    const navigate = useNavigate();\n    const {otpdetails,setOtpDetails}=useContext(store);\n\n    const [otp,setOtp]=useState(0);\n    const form = useRef();\n\n    // const sendEmail = (e) => {\n    // e.preventDefault();\n    const [sentotp,setSentotp] = useState(\"\");\n\nuseEffect(() => {\n    setSentotp(Math.floor(Math.random() * 1000000));\n}, [])\n\n\nuseEffect(() => {\n    if(sentotp!=\"\" && otpdetails.email!=undefined){\n    emailjs.sendForm(process.env.REACT_APP_USER_EMAILJS_SERVICE, process.env.REACT_APP_USER_EMAILJS_TEMPLATE, form.current, process.env.REACT_APP_USER_EMAILJS_USERID)\n      .then((result) => {          \n      }, (error) => {\n      });\n    }\n}, [sentotp])\n\n  const submitHandler = (e)=>{\n    e.preventDefault();\n    if(otp==sentotp){\n\n          const { firstName, lastName, email, phone, address, city, state, pincode, password } = otpdetails;\n          Axios.post(`https://ays-backend.vercel.app/signup`, {\n            firstName,\n            lastName,\n            email,\n            phone,\n            address,\n            city,\n            state,\n            pincode,\n            password,\n          }).then((res) => {\n  \n            if (res.data) {\n              alert(\"Registration successful!\");\n              navigate(\"/login\");\n            } else {\n              alert(\"Something went wrong\");\n            }\n          });\n    }\n    else{\n        alert(\"OTP not verified\");\n    }\n  }\n\n  return (\n    <div>\n\n    <form style={{display:\"none\"}} ref={form}>\n      <label>Name</label>\n      <input type=\"text\" name=\"user_name\" value={otpdetails.firstName} />\n      <label>Email</label>\n      <input type=\"email\" name=\"user_email\" value={otpdetails.email} />\n      <label>Message</label>\n      <textarea name=\"message\" value={sentotp} />\n      \n    </form>\n\n\n    <MainNav />\n    <img style={{ height: \"650px\" }} src=\"./indeximage.jpg\" />\n   \n     \n      <form className=\"form_s\"  onSubmit={submitHandler}>\n\n      \n        <h3 style={{marginBottom:\"20px\"}}>Enter OTP</h3>\n\n        <div style={{marginBottom:\"50px\"}}className=\"flex-container\">\n          <div >\n            <input\n              className=\"input_s\"\n              required=\"required\"\n              type=\"text\"\n              name=\"firstName\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"******\"\n              onChange={(e) => {\n                setOtp(e.target.value);\n                \n              }}\n            />\n            <p style={{ color: \"red\" }}>{}</p>\n          </div>\n        </div>\n\n      \n        <button type=\"submit\" style={{width:\"100px\",height:\"30px\",color:'black',fontWeight:\"20px\"}}>\n          Submit\n        </button>\n      </form>\n      \n    </div>\n  )\n}\n\nexport default CheckOTP\n"],"mappings":"+IAAA,MAAOA,MAAP,EAAgBC,MAAhB,CAAuBC,UAAvB,CAAkCC,QAAlC,CAA4CC,SAA5C,KAA6D,OAA7D,CACA,MAAOC,QAAP,KAAoB,kBAApB,CACA,OAAQC,KAAR,KAAmB,WAAnB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAO,kBAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,KAAoB,gBAApB,C,wFAEA,QAASC,SAAT,EAAoB,CAChB,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,gBAAiCP,UAAU,CAACI,KAAD,CAA3C,CAAOQ,UAAP,aAAOA,UAAP,CAAkBC,aAAlB,aAAkBA,aAAlB,CAEA,cAAmBZ,QAAQ,CAAC,CAAD,CAA3B,wCAAOa,GAAP,eAAWC,MAAX,eACA,GAAMC,KAAI,CAAGjB,MAAM,EAAnB,CAEA;AACA;AACA,eAA6BE,QAAQ,CAAC,EAAD,CAArC,yCAAOgB,OAAP,eAAeC,UAAf,eAEJhB,SAAS,CAAC,UAAM,CACZgB,UAAU,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,OAA3B,CAAD,CAAV,CACH,CAFQ,CAEN,EAFM,CAAT,CAKAnB,SAAS,CAAC,UAAM,CACZ,GAAGe,OAAO,EAAE,EAAT,EAAeL,UAAU,CAACU,KAAX,EAAkBC,SAApC,CAA8C,CAC9CpB,OAAO,CAACqB,QAAR,CAAiBC,OAAO,CAACC,GAAR,CAAYC,8BAA7B,CAA6DF,OAAO,CAACC,GAAR,CAAYE,+BAAzE,CAA0GZ,IAAI,CAACa,OAA/G,CAAwHJ,OAAO,CAACC,GAAR,CAAYI,6BAApI,EACGC,IADH,CACQ,SAACC,MAAD,CAAY,CACjB,CAFH,CAEK,SAACC,KAAD,CAAW,CACb,CAHH,EAIC,CACJ,CAPQ,CAON,CAAChB,OAAD,CAPM,CAAT,CASE,GAAMiB,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAK,CACzBA,CAAC,CAACC,cAAF,GACA,GAAGtB,GAAG,EAAEG,OAAR,CAAgB,CAEV,GAAQoB,UAAR,CAAuFzB,UAAvF,CAAQyB,SAAR,CAAmBC,QAAnB,CAAuF1B,UAAvF,CAAmB0B,QAAnB,CAA6BhB,KAA7B,CAAuFV,UAAvF,CAA6BU,KAA7B,CAAoCiB,KAApC,CAAuF3B,UAAvF,CAAoC2B,KAApC,CAA2CC,OAA3C,CAAuF5B,UAAvF,CAA2C4B,OAA3C,CAAoDC,IAApD,CAAuF7B,UAAvF,CAAoD6B,IAApD,CAA0DC,KAA1D,CAAuF9B,UAAvF,CAA0D8B,KAA1D,CAAiEC,OAAjE,CAAuF/B,UAAvF,CAAiE+B,OAAjE,CAA0EC,QAA1E,CAAuFhC,UAAvF,CAA0EgC,QAA1E,CACApC,KAAK,CAACqC,IAAN,yCAAoD,CAClDR,SAAS,CAATA,SADkD,CAElDC,QAAQ,CAARA,QAFkD,CAGlDhB,KAAK,CAALA,KAHkD,CAIlDiB,KAAK,CAALA,KAJkD,CAKlDC,OAAO,CAAPA,OALkD,CAMlDC,IAAI,CAAJA,IANkD,CAOlDC,KAAK,CAALA,KAPkD,CAQlDC,OAAO,CAAPA,OARkD,CASlDC,QAAQ,CAARA,QATkD,CAApD,EAUGb,IAVH,CAUQ,SAACe,GAAD,CAAS,CAEf,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZC,KAAK,CAAC,0BAAD,CAAL,CACArC,QAAQ,CAAC,QAAD,CAAR,CACD,CAHD,IAGO,CACLqC,KAAK,CAAC,sBAAD,CAAL,CACD,CACF,CAlBD,EAmBL,CAtBD,IAuBI,CACAA,KAAK,CAAC,kBAAD,CAAL,CACH,CACF,CA5BD,CA8BA,mBACE,oCAEA,cAAM,KAAK,CAAE,CAACC,OAAO,CAAC,MAAT,CAAb,CAA+B,GAAG,CAAEjC,IAApC,wBACE,+BADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,KAAK,CAAEJ,UAAU,CAACyB,SAAtD,EAFF,cAGE,gCAHF,cAIE,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,YAAzB,CAAsC,KAAK,CAAEzB,UAAU,CAACU,KAAxD,EAJF,cAKE,kCALF,cAME,iBAAU,IAAI,CAAC,SAAf,CAAyB,KAAK,CAAEL,OAAhC,EANF,GAFA,cAaA,KAAC,OAAD,IAbA,cAcA,YAAK,KAAK,CAAE,CAAEiC,MAAM,CAAE,OAAV,CAAZ,CAAiC,GAAG,CAAC,kBAArC,EAdA,cAiBE,cAAM,SAAS,CAAC,QAAhB,CAA0B,QAAQ,CAAEhB,aAApC,wBAGE,WAAI,KAAK,CAAE,CAACiB,YAAY,CAAC,MAAd,CAAX,uBAHF,cAKE,YAAK,KAAK,CAAE,CAACA,YAAY,CAAC,MAAd,CAAZ,CAAkC,SAAS,CAAC,gBAA5C,uBACE,oCACE,cACE,SAAS,CAAC,SADZ,CAEE,QAAQ,CAAC,UAFX,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,WAJP,CAKE,mBAAiB,WALnB,CAME,WAAW,CAAC,QANd,CAOE,QAAQ,CAAE,kBAAChB,CAAD,CAAO,CACfpB,MAAM,CAACoB,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAN,CAED,CAVH,EADF,cAaE,UAAG,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAT,CAAV,EAbF,GADF,EALF,cAwBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAE,CAACC,KAAK,CAAC,OAAP,CAAeL,MAAM,CAAC,MAAtB,CAA6BI,KAAK,CAAC,OAAnC,CAA2CE,UAAU,CAAC,MAAtD,CAA7B,oBAxBF,GAjBF,GADF,CAiDD,CAED,cAAe9C,SAAf"},"metadata":{},"sourceType":"module"}