{"ast":null,"code":"import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useContext,useState,useEffect}from'react';import emailjs from'@emailjs/browser';import{store}from\"../App.js\";import MainNav from\"../components/MainNav\";import{Link,useNavigate}from\"react-router-dom\";import\"./css/Signup.css\";import Axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CheckOtp_emp(){var navigate=useNavigate();var _useContext=useContext(store),otpdetails_emp=_useContext.otpdetails_emp,setOtpDetails_emp=_useContext.setOtpDetails_emp;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var form=useRef();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),sentotp=_useState4[0],setSentotp=_useState4[1];useEffect(function(){setSentotp(Math.floor(Math.random()*1000000));},[]);useEffect(function(){if(sentotp!=\"\"&&otpdetails_emp.email!=undefined){emailjs.sendForm(process.env.REACT_APP_EMP_EMAILJS_SERVICE,process.env.REACT_APP_EMP_EMAILJS_TEMPLATE,form.current,process.env.REACT_APP_EMP_EMAILJS_USERID).then(function(result){},function(error){});}},[sentotp]);var submitHandler=function submitHandler(e){e.preventDefault();if(otp==sentotp){var firstName=otpdetails_emp.firstName,lastName=otpdetails_emp.lastName,gender=otpdetails_emp.gender,profession=otpdetails_emp.profession,email=otpdetails_emp.email,phone=otpdetails_emp.phone,address=otpdetails_emp.address,city=otpdetails_emp.city,state=otpdetails_emp.state,pincode=otpdetails_emp.pincode,password=otpdetails_emp.password;alert(\"OTP verified\");Axios.post(\"https://ays-backend.vercel.app/empsignup\",{firstName:firstName,lastName:lastName,gender:gender,profession:profession,email:email,phone:phone,address:address,city:city,state:state,pincode:pincode,password:password,free:\"1\"}).then(function(res){if(res.data!=null){alert(\"We received your details. We will contact you soon!\");navigate(\"/\");}else{toast.error(\"Email already exists! Or Something went Wrong\",{position:toast.POSITION.BOTTOM_RIGHT});}});}else{alert(\"OTP not verified\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{style:{display:\"none\"},ref:form,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:otpdetails_emp.firstName}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:otpdetails_emp.email}),/*#__PURE__*/_jsx(\"label\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"otp\",value:sentotp})]}),/*#__PURE__*/_jsx(MainNav,{}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"650px\"},src:\"./indeximage.jpg\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form_s\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:\"20px\"},children:\"Enter OTP\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"50px\"},className:\"flex-container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"input_s\",required:\"required\",type:\"text\",name:\"firstName\",\"aria-describedby\":\"emailHelp\",placeholder:\"******\",onChange:function onChange(e){setOtp(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"}})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"100px\",height:\"30px\",color:'black',fontWeight:\"20px\"},children:\"Submit\"})]})]});}export default CheckOtp_emp;","map":{"version":3,"names":["React","useRef","useContext","useState","useEffect","emailjs","store","MainNav","Link","useNavigate","Axios","toast","CheckOtp_emp","navigate","otpdetails_emp","setOtpDetails_emp","otp","setOtp","form","sentotp","setSentotp","Math","floor","random","email","undefined","sendForm","process","env","REACT_APP_EMP_EMAILJS_SERVICE","REACT_APP_EMP_EMAILJS_TEMPLATE","current","REACT_APP_EMP_EMAILJS_USERID","then","result","error","submitHandler","e","preventDefault","firstName","lastName","gender","profession","phone","address","city","state","pincode","password","alert","post","free","res","data","position","POSITION","BOTTOM_RIGHT","display","height","marginBottom","target","value","color","width","fontWeight"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/CheckOtp_emp.js"],"sourcesContent":["import React, { useRef,useContext,useState, useEffect } from 'react';\nimport emailjs from '@emailjs/browser';\nimport {store}from \"../App.js\" \nimport MainNav from \"../components/MainNav\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Signup.css\";\nimport Axios from \"axios\";\nimport {toast} from \"react-toastify\"\n\nfunction CheckOtp_emp() {\n    const navigate = useNavigate();\n    const {otpdetails_emp,setOtpDetails_emp}=useContext(store);\n\n    const [otp,setOtp]=useState(0);\n  \n    const form = useRef();\n\n    const [sentotp,setSentotp] = useState(\"\");\n\nuseEffect(() => {\n    setSentotp(Math.floor(Math.random() * 1000000));\n}, [])\n\nuseEffect(() => {\n   \n    if(sentotp!=\"\" && otpdetails_emp.email!=undefined){\n    emailjs.sendForm(process.env.REACT_APP_EMP_EMAILJS_SERVICE, process.env.REACT_APP_EMP_EMAILJS_TEMPLATE, form.current, process.env.REACT_APP_EMP_EMAILJS_USERID)\n      .then((result) => {                                                  \n      }, (error) => {\n          \n      });\n    }\n}, [sentotp])\n  const submitHandler = (e)=>{\n    e.preventDefault();\n    if(otp==sentotp){\n        const {firstName,lastName,gender,profession,email,phone,address,city,state,pincode,password}=otpdetails_emp;\n        alert(\"OTP verified\");        \n        Axios.post(`https://ays-backend.vercel.app/empsignup`, {firstName,lastName,gender,profession,email,phone,address,city,state,pincode,password,free:\"1\"})\n          .then((res) => \n           {\n            if(res.data!=null)\n            {\n              alert(\"We received your details. We will contact you soon!\");\n              navigate(\"/\");\n            }\n            else {\n              toast.error(\"Email already exists! Or Something went Wrong\",{position: toast.POSITION.BOTTOM_RIGHT})\n            }             \n          });\n    }\n    else\n    {\n        alert(\"OTP not verified\");\n    }\n}\n\n  return (\n    <div>\n\n    <form style={{display:\"none\"}} ref={form}>\n      <label>Name</label>\n      <input type=\"text\" name=\"name\" value={otpdetails_emp.firstName} />\n      <label>Email</label>\n      <input type=\"email\" name=\"email\" value={otpdetails_emp.email} />\n      <label>Message</label>\n      <textarea name=\"otp\" value={sentotp} />\n      \n    </form>\n\n    <MainNav />\n    <img style={{ height: \"650px\" }} src=\"./indeximage.jpg\" />\n   \n     \n      <form className=\"form_s\"  onSubmit={submitHandler}>\n        <h3 style={{marginBottom:\"20px\"}}>Enter OTP</h3>\n        <div style={{marginBottom:\"50px\"}}className=\"flex-container\">\n          <div >\n            <input\n              className=\"input_s\"\n              required=\"required\"\n              type=\"text\"\n              name=\"firstName\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"******\"\n              onChange={(e) => {\n                setOtp(e.target.value);   \n              }}\n            />\n            <p style={{ color: \"red\" }}>{}</p>\n          </div>\n        </div>\n        <button type=\"submit\" style={{width:\"100px\",height:\"30px\",color:'black',fontWeight:\"20px\"}}>\n          Submit\n        </button>\n      </form>\n      \n    </div>\n  )\n}\n\nexport default CheckOtp_emp\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}