{"ast":null,"code":"import _slicedToArray from\"C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"./css/Login.css\";import MainNav from\"../components/MainNav\";import{store}from\"../App.js\";import{toast}from'react-toastify';import Axios from\"axios\";import{useDispatch}from\"react-redux\";import{login}from'../Redux/userSlice.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Employee_login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setMsg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),pmsg=_useState8[0],setPmsg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),imsg=_useState10[0],setImsg=_useState10[1];var _useContext=useContext(store),empdetails=_useContext.empdetails,setempDetails=_useContext.setempDetails;var _useState11=useState(\"password\"),_useState12=_slicedToArray(_useState11,2),passwordType=_useState12[0],setPasswordType=_useState12[1];var dispatch=useDispatch();var togglePassword=function togglePassword(){if(passwordType===\"password\"){setPasswordType(\"text\");return;}setPasswordType(\"password\");};var submitHandler=function submitHandler(e){e.preventDefault();if(email===\"\"){e.preventDefault();setMsg(\"Enter your email!\");}else if(!email.includes(\"@\")){e.preventDefault();setMsg(\"Enter a valid email!\");}else if(password===\"\"){e.preventDefault();setPmsg(\"Enter your password!\");}else{Axios.get(\"https://ays-backend.vercel.app/emplogin?email=\".concat(email,\"&password=\").concat(password)).then(function(res){if(res.data.auth===true){localStorage.setItem(\"token\",res.data.token);setempDetails(res.data.employees[0]);dispatch(login({email:res.data.employees[0].email,firstName:res.data.employees[0].firstName,lastName:res.data.employees[0].lastName,phone:res.data.employees[0].phone,address:res.data.employees[0].address,city:res.data.employees[0].city,state:res.data.employees[0].state,pincode:res.data.employees[0].pincode,id:res.data.employees[0]._id.valueOf()}));alert(\"Login successful!\");navigate(\"/Employee_home\");}else{toast.error('Invalid Username or Password!',{position:toast.POSITION.BOTTOM_RIGHT});}});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainNav,{}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"650px\"},src:\"./indeximage.jpg\"}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form_l\",onSubmit:function onSubmit(e){submitHandler(e);},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login Here\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:pmsg}),/*#__PURE__*/_jsxs(\"div\",{className:\"input__box\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label_l\",for:\"username\",children:/*#__PURE__*/_jsx(\"p\",{className:\"names\",children:\"Username\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"input_l\",type:\"text\",id:\"username\",name:\"email\",placeholder:\"Email\",required:\"required\",onChange:function onChange(e){setMsg(\"\");setImsg(\"\");setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:msg})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input__box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:/*#__PURE__*/_jsx(\"p\",{className:\"names\",children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"input_l\",type:passwordType,id:\"password\",name:\"password\",required:\"required\",placeholder:\"Password\",onChange:function onChange(e){setPmsg(\"\");setImsg(\"\");setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:pmsg})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input__box\",style:{\"margin-top\":\"3px\",cursor:\"pointer\",paddingLeft:\"10px\"},onClick:togglePassword,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){togglePassword();}}),/*#__PURE__*/_jsx(\"label\",{for:\"showpassword\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Show Password\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input__box\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button_l\",children:\"Log in\"})}),/*#__PURE__*/_jsxs(\"p\",{class:\"forget\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Sign up\"}),\" \"]})]})]});}export default Employee_login;","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","MainNav","store","toast","Axios","useDispatch","login","Employee_login","navigate","email","setEmail","password","setPassword","msg","setMsg","pmsg","setPmsg","imsg","setImsg","empdetails","setempDetails","passwordType","setPasswordType","dispatch","togglePassword","submitHandler","e","preventDefault","includes","get","then","res","data","auth","localStorage","setItem","token","employees","firstName","lastName","phone","address","city","state","pincode","id","_id","valueOf","alert","error","position","POSITION","BOTTOM_RIGHT","height","color","target","value","cursor","paddingLeft"],"sources":["C:/Users/siddu/Desktop/AYS/AYS-MERN-Stack-Frontend-master/src/pages/Employee_login.js"],"sourcesContent":["import React, { useState,useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./css/Login.css\";\nimport MainNav from \"../components/MainNav\";\nimport {store}from \"../App.js\" \nimport {toast} from 'react-toastify'\nimport Axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport {login} from '../Redux/userSlice.js'\n\nfunction Employee_login() {\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [pmsg, setPmsg] = useState(\"\");\n  const [imsg, setImsg] = useState(\"\");\n  const {empdetails,setempDetails}=useContext(store);\n  const [passwordType, setPasswordType] = useState(\"password\");\n \n  const dispatch = useDispatch();\n\n  const togglePassword = () => {\n    if (passwordType === \"password\") {\n      setPasswordType(\"text\");\n      return;\n    }\n    setPasswordType(\"password\");\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (email === \"\") {\n      e.preventDefault();\n      setMsg(\"Enter your email!\");\n    } else if (!email.includes(\"@\")) {\n      e.preventDefault();\n      setMsg(\"Enter a valid email!\");\n    } else if (password === \"\") {\n      e.preventDefault();\n      setPmsg(\"Enter your password!\");\n    } \n    else {\n      Axios.get(\n        `https://ays-backend.vercel.app/emplogin?email=${email}&password=${password}`\n      ).then((res) => {\n    \n        if (res.data.auth === true) {\n          localStorage.setItem(\"token\", res.data.token);\n          setempDetails(res.data.employees[0])\n          dispatch(login({\n            email:res.data.employees[0].email,\n            firstName:res.data.employees[0].firstName,\n            lastName:res.data.employees[0].lastName,\n            phone:res.data.employees[0].phone,\n            address:res.data.employees[0].address,\n            city:res.data.employees[0].city,\n            state:res.data.employees[0].state,\n            pincode:res.data.employees[0].pincode,\n            id:res.data.employees[0]._id.valueOf()\n          }))\n          alert(\"Login successful!\");\n          navigate(\"/Employee_home\");\n        } else {\n          toast.error('Invalid Username or Password!', {position: toast.POSITION.BOTTOM_RIGHT})\n        }\n      });\n    }\n  };\n\n  return (\n    <>\n    <MainNav/>\n     <img style={{height:\"650px\"}} src=\"./indeximage.jpg\"/>\n        <div>\n          {/* <h5 style={{ color: \"red\" }}>{imsg}</h5> */}\n        </div>\n\n        <form className=\"form_l\" onSubmit={(e)=>{\n          submitHandler(e)\n        }}>\n          <h3>Login Here</h3>\n          <p style={{ color: \"red\" }}>{pmsg}</p>\n          <div className=\"input__box\">\n            <label className=\"label_l\" for=\"username\"><p className=\"names\">Username</p></label>\n            <input className=\"input_l\"\n              type=\"text\"\n              id=\"username\"\n              name=\"email\"\n              placeholder=\"Email\"\n              required=\"required\"\n              onChange={(e) => {\n                setMsg(\"\")\n                setImsg(\"\")\n                setEmail(e.target.value);\n              }}\n            />\n              <p style={{ color: \"red\" }}>{msg}</p>\n          </div>\n\n         \n\n          <div className=\"input__box\">\n            <label for=\"password\"><p className=\"names\">Password</p></label>\n            <input className=\"input_l\"\n              type={passwordType}\n              id=\"password\"\n              name=\"password\"\n              required=\"required\"\n              placeholder=\"Password\"\n              onChange={(e) => {\n                setPmsg(\"\")\n                setImsg(\"\")\n                setPassword(e.target.value);\n              }}\n            />\n             <p style={{ color: \"red\" }}>{pmsg}</p>\n          </div>\n          <div className=\"input__box\"  style={{\"margin-top\":\"3px\",cursor: \"pointer\",paddingLeft:\"10px\"}} onClick={togglePassword}>\n                <input type=\"checkbox\" onChange={(e)=>{\n                  togglePassword()\n                }}/>\n                <label for=\"showpassword\"><small>Show Password</small></label>\n            </div>\n  \n          <div className=\"input__box\">\n            <button type=\"submit\" className=\"button_l\">\n              Log in\n            </button>\n          </div>\n          <p class=\"forget\">Don't have an account? <Link to=\"/register\">Sign up</Link> </p>\n        \n        </form>\n       \n</>\n  );\n}\n\nexport default Employee_login;"],"mappings":"+IAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAAyBC,UAAzB,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAO,iBAAP,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAAQC,KAAR,KAAmB,WAAnB,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAAQC,KAAR,KAAoB,uBAApB,C,6IAEA,QAASC,eAAT,EAA0B,CACxB,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CAEA,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAAgCb,QAAQ,CAAC,EAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAsBf,QAAQ,CAAC,EAAD,CAA9B,yCAAOgB,GAAP,eAAYC,MAAZ,eACA,eAAwBjB,QAAQ,CAAC,EAAD,CAAhC,yCAAOkB,IAAP,eAAaC,OAAb,eACA,eAAwBnB,QAAQ,CAAC,EAAD,CAAhC,0CAAOoB,IAAP,gBAAaC,OAAb,gBACA,gBAAiCpB,UAAU,CAACI,KAAD,CAA3C,CAAOiB,UAAP,aAAOA,UAAP,CAAkBC,aAAlB,aAAkBA,aAAlB,CACA,gBAAwCvB,QAAQ,CAAC,UAAD,CAAhD,2CAAOwB,YAAP,gBAAqBC,eAArB,gBAEA,GAAMC,SAAQ,CAAGlB,WAAW,EAA5B,CAEA,GAAMmB,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,GAAIH,YAAY,GAAK,UAArB,CAAiC,CAC/BC,eAAe,CAAC,MAAD,CAAf,CACA,OACD,CACDA,eAAe,CAAC,UAAD,CAAf,CACD,CAND,CAQA,GAAMG,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACA,GAAIlB,KAAK,GAAK,EAAd,CAAkB,CAChBiB,CAAC,CAACC,cAAF,GACAb,MAAM,CAAC,mBAAD,CAAN,CACD,CAHD,IAGO,IAAI,CAACL,KAAK,CAACmB,QAAN,CAAe,GAAf,CAAL,CAA0B,CAC/BF,CAAC,CAACC,cAAF,GACAb,MAAM,CAAC,sBAAD,CAAN,CACD,CAHM,IAGA,IAAIH,QAAQ,GAAK,EAAjB,CAAqB,CAC1Be,CAAC,CAACC,cAAF,GACAX,OAAO,CAAC,sBAAD,CAAP,CACD,CAHM,IAIF,CACHZ,KAAK,CAACyB,GAAN,yDACmDpB,KADnD,sBACqEE,QADrE,GAEEmB,IAFF,CAEO,SAACC,GAAD,CAAS,CAEd,GAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,GAAkB,IAAtB,CAA4B,CAC1BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,GAAG,CAACC,IAAJ,CAASI,KAAvC,EACAhB,aAAa,CAACW,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,CAAD,CAAb,CACAd,QAAQ,CAACjB,KAAK,CAAC,CACbG,KAAK,CAACsB,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsB5B,KADf,CAEb6B,SAAS,CAACP,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBC,SAFnB,CAGbC,QAAQ,CAACR,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBE,QAHlB,CAIbC,KAAK,CAACT,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBG,KAJf,CAKbC,OAAO,CAACV,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBI,OALjB,CAMbC,IAAI,CAACX,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBK,IANd,CAObC,KAAK,CAACZ,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBM,KAPf,CAQbC,OAAO,CAACb,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBO,OARjB,CASbC,EAAE,CAACd,GAAG,CAACC,IAAJ,CAASK,SAAT,CAAmB,CAAnB,EAAsBS,GAAtB,CAA0BC,OAA1B,EATU,CAAD,CAAN,CAAR,CAWAC,KAAK,CAAC,mBAAD,CAAL,CACAxC,QAAQ,CAAC,gBAAD,CAAR,CACD,CAhBD,IAgBO,CACLL,KAAK,CAAC8C,KAAN,CAAY,+BAAZ,CAA6C,CAACC,QAAQ,CAAE/C,KAAK,CAACgD,QAAN,CAAeC,YAA1B,CAA7C,EACD,CACF,CAvBD,EAwBD,CACF,CAtCD,CAwCA,mBACE,wCACA,KAAC,OAAD,IADA,cAEC,YAAK,KAAK,CAAE,CAACC,MAAM,CAAC,OAAR,CAAZ,CAA8B,GAAG,CAAC,kBAAlC,EAFD,cAGI,cAHJ,cAOI,cAAM,SAAS,CAAC,QAAhB,CAAyB,QAAQ,CAAE,kBAAC3B,CAAD,CAAK,CACtCD,aAAa,CAACC,CAAD,CAAb,CACD,CAFD,wBAGE,kCAHF,cAIE,UAAG,KAAK,CAAE,CAAE4B,KAAK,CAAE,KAAT,CAAV,UAA6BvC,IAA7B,EAJF,cAKE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,SAAjB,CAA2B,GAAG,CAAC,UAA/B,uBAA0C,UAAG,SAAS,CAAC,OAAb,sBAA1C,EADF,cAEE,cAAO,SAAS,CAAC,SAAjB,CACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,OAJd,CAKE,QAAQ,CAAC,UALX,CAME,QAAQ,CAAE,kBAACW,CAAD,CAAO,CACfZ,MAAM,CAAC,EAAD,CAAN,CACAI,OAAO,CAAC,EAAD,CAAP,CACAR,QAAQ,CAACgB,CAAC,CAAC6B,MAAF,CAASC,KAAV,CAAR,CACD,CAVH,EAFF,cAcI,UAAG,KAAK,CAAE,CAAEF,KAAK,CAAE,KAAT,CAAV,UAA6BzC,GAA7B,EAdJ,GALF,cAwBE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,GAAG,CAAC,UAAX,uBAAsB,UAAG,SAAS,CAAC,OAAb,sBAAtB,EADF,cAEE,cAAO,SAAS,CAAC,SAAjB,CACE,IAAI,CAAEQ,YADR,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAC,UAJX,CAKE,WAAW,CAAC,UALd,CAME,QAAQ,CAAE,kBAACK,CAAD,CAAO,CACfV,OAAO,CAAC,EAAD,CAAP,CACAE,OAAO,CAAC,EAAD,CAAP,CACAN,WAAW,CAACc,CAAC,CAAC6B,MAAF,CAASC,KAAV,CAAX,CACD,CAVH,EAFF,cAcG,UAAG,KAAK,CAAE,CAAEF,KAAK,CAAE,KAAT,CAAV,UAA6BvC,IAA7B,EAdH,GAxBF,cAwCE,aAAK,SAAS,CAAC,YAAf,CAA6B,KAAK,CAAE,CAAC,aAAa,KAAd,CAAoB0C,MAAM,CAAE,SAA5B,CAAsCC,WAAW,CAAC,MAAlD,CAApC,CAA+F,OAAO,CAAElC,cAAxG,wBACM,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,kBAACE,CAAD,CAAK,CACpCF,cAAc,GACf,CAFD,EADN,cAIM,cAAO,GAAG,CAAC,cAAX,uBAA0B,wCAA1B,EAJN,GAxCF,cA+CE,YAAK,SAAS,CAAC,YAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,UAAhC,oBADF,EA/CF,cAoDE,WAAG,KAAK,CAAC,QAAT,kDAAyC,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,qBAAzC,OApDF,GAPJ,GADF,CAkED,CAED,cAAejB,eAAf"},"metadata":{},"sourceType":"module"}